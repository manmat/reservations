(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s;$.Define($$,{Appointments2:{Auth:{Main:function(t){var u,v,w,x;u=c.Input("");v=d.WithTextLabel("Name",d.WithValidationIcon(e.Validator().IsNotEmpty("Don't forget your name!",u)));w=d.WithTextLabel("Password",d.WithValidationIcon(c.Password("")));x=e.$(e.$(f.Return(function(y){return function(z){return g.Send("Reservations:0",[y,z]);};}),v),w);return f.Run(function(){h.location=t;return t;},d.WithCustomFormContainer(i.get_Default(),d.WithSubmitAndResetButtons(x)));}},Controls:{EntryPoint:$.Class({get_Body:function(){return k.Main(this.name,this.num);}}),Hekk:$.Class({get_Body:function(){return k.InitDateTime();}}),LoginEntry:$.Class({get_Body:function(){return l.Main(this.url);}})},MyPage:{Form:function(B){var C,D,E,F,G,H;C=c.Input(B);D=e.Validator().IsNotEmpty("Don't forget your name!",C);E=d.WithTextLabel("Name",d.WithValidationIcon(D));F=c.Input("example@example.com");G=d.WithTextLabel("E-mail",d.WithValidationIcon((e.Validator().IsEmail("Don't forget your email address!"))(F)));H=d.WithCssClass("datetime",d.WithTextLabel("Date",c.Input("")));return e.$(e.$(e.$(f.Return(function(I){return function(J){return function(K){return{Name:I,Email:J,Date:K};};};}),E),G),H);},InitDateTime:function(){m(".datetime").find("input").datetimepicker({step:15,minDate:"0"});return o.Div($.New(q,{$:0}));},Main:function(L,M){var N,O;r.Log(L);N=i.get_Default();O={$:1,$0:{$:0,$0:"Fill in the form"}};return f.Run(function(P){return k.select(M,P);},d.WithCustomFormContainer($.New(i,{Header:{$:1,$0:{$:0,$0:"Hello "+$$.String(L)}},Padding:N.Padding,Description:O,BackgroundColor:N.BackgroundColor,BorderColor:N.BorderColor,CssClass:N.CssClass,Style:N.Style}),d.WithSubmitAndResetButtons(k.Form(L))));},select:function(Q,R){var S,T;if(Q.$==2){S=g.Call("Reservations:1",[R]);if(S.$==1){T=S.$0;return s("Name: "+T.Name+"\nEmail: "+T.Email);}else{return s("Available");}}else{return Q.$==1?g.Call("Reservations:2",[R])?s("Reserved"):s("Available"):Q.$==3?g.Send("Reservations:4",[R]):Q.$==4?g.Send("Reservations:5",[R]):g.Call("Reservations:3",[R])?s("Success"):s("Already reserved");}}}}});$.OnInit(function(){a=$.Safe($$.IntelliFactory.WebSharper);b=$.Safe(a.Formlet);c=$.Safe(b.Controls);d=$.Safe(b.Enhance);e=$.Safe(b.Data);f=$.Safe(b.Formlet);g=$.Safe(a.Remoting);h=$.Safe($$.window);i=$.Safe(d.FormContainerConfiguration);j=$.Safe($$.Appointments2);k=$.Safe(j.MyPage);l=$.Safe(j.Auth);m=$.Safe($$.jQuery);n=$.Safe(a.Html);o=$.Safe(n.Default);p=$.Safe(a.List);q=$.Safe(p.T);r=$.Safe(a.JavaScript);return s=$.Safe($$.alert);});$.OnLoad(function(){return;});}());
